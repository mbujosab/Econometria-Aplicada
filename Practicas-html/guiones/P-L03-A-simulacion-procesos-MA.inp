# Los dos primeros comandos son necesarios para que Gretl guarde los resultados de la práctica en el directorio de trabajo
# al ejecutar lo siguiente desde un terminal (use los nombres y ruta que correspondan)
#
#    DIRECTORIO="Nombre_Directorio_trabajo" gretlcli -b ruta/nombre_fichero_de_la_practica.inp
#
# Si esto no le funciona en su sistema, comente las siguientes dos líneas y sitúese en el directorio de trabajo de gretl
# que corresponda (configure dicho directorio de trabajo desde la ventana principal de Gretl).

string directory = getenv("DIRECTORIO")
set workdir "@directory"

### Establecemos la muestra para las simulaciones
nulldata 300
setobs 4 1960:01 --time-series

### Simulamos una serie temporal de ruido blanco con distribución normal
# set seed 2025   # (si quiere generar siempre los mismos números fije la semilla a un valor concreto)
series WN = normal(0,1)

### Estadísticos descriptivos básicos y gráfico
outfile --quiet EstadisticosWN.txt
    summary WN --simple
end outfile
gnuplot WN --time-series --with-lines  --output="WN.png"

### Estadísticos descriptivos básicos para la submuestra hasta 1997:2
smpl 1960:1 1997:2
outfile --quiet EstadisticosWN-1992.txt
    summary WN --simple
end outfile

### Estadísticos descriptivos básicos para la submuestra desde 1997:3
smpl 1997:3 2034:4
outfile --quiet EstadisticosWN-2034.txt
    summary WN --simple
end outfile

### Recuperamos la muestra completa antes de generar una nueva serie temporal
smpl 1960:1 2034:4

### La serie X es la realización de un proceso MA(1)
series X = WN + 0.8*WN(-1)

### Gráfico y estadísticos descriptivos básicos
gnuplot X --time-series --with-lines  --output="MA1.png"
outfile --quiet EstadisticosMA1.txt
    summary X --simple
end outfile

### Estadísticos descriptivos básicos para la submuestra hasta 1997:2
smpl 1960:1 1997:2
outfile --quiet EstadisticosMA1-1992.txt
    summary X --simple
end outfile

### Estadísticos descriptivos básicos para la submuestra desde 1997:3
smpl 1997:3 2034:4
outfile --quiet EstadisticosMA1-2034.txt
    summary X --simple
end outfile
